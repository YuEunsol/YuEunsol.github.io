<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,minimum-scale=1.0,maximun-scale=1.0">
    <title>sol's Area</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="fucking.css">
</head>
<body>
    <header>
        <div id="headerBackgroundBox"></div>
        <h1 id="headerName">sol's Area</h1>
<!--        <>-->
    </header>
    <div id="dropContents">
        <div class="Dropline" id="p1">
            <span class="Drop">안</span>
            <span class="Drop">녕</span>
            <span class="Drop">하</span>
            <span class="Drop">세</span>
            <span class="Drop">요</span>
            <span class="Drop">!</span>
        </div>
        <div class="Dropline" id="p2">
            <span class="Drop">반</span>
            <span class="Drop">가</span>
            <span class="Drop">워</span>
            <span class="Drop">요</span>
        </div>
        <div class="Dropline" id="p3">
            <span class="Drop">잘</span>
            <span class="Drop">있</span>
            <span class="Drop">어</span>
            <span class="Drop">요</span>
        </div>
        <div class="Dropline" id="p4">
            <span class="Drop">다</span>
            <span class="Drop">시</span>
            <span class="Drop">만</span>
            <span class="Drop">나</span>
            <span class="Drop">요</span>
        </div>
        <div class="Dropline" id="p5">
            <span class="Drop">*</span>
            <span class="Drop">^</span>
            <span class="Drop">^</span>
            <span class="Drop">*</span>
        </div>
    </div>
    <div class="TrapezoidBackground">
        <div class="TrapezoidBackgroundTriangle"></div>
        <div class="TrapezoidBackgroundSquare"></div>
    </div>
    <p id="Trapezoid">Welcome to My Webpage!!</p>
<script>
    let p1_height = document.querySelector('#p1').getBoundingClientRect().y;
    let drop = document.querySelectorAll('#p1 > .Drop');
    let dropChecker = false;
    let viewport_height = window.innerHeight
    let viewport_width = window.innerWidth
    window.addEventListener('scroll', function(e){
        if (window.scrollY >= p1_height && !dropChecker) {
            for (let i = 0; i < drop.length; i++) {
                let randomFloat = Math.random();
                let randomColorCode = "#" + Math.round(randomFloat * 0xFFFFFF).toString(16);
                drop[i].style.color = randomColorCode;
                setInterval(function (w) {
                    drop[i].classList.add("drop_ani");
                }, 900 * randomFloat);
                setTimeout(function () {
                    drop[i].classList.toggle("bounce_ani");
                },2000);
                }
            dropChecker = true;
            }
    })
    let trapezoid = document.querySelector('#Trapezoid');
    let trapezoid_tan = (viewport_height * 0.35) / viewport_width;
    function figureTrapezoidDeg(tan) {
        console.log(tan)
        if (0 <= tan <= 0.268) {
            return tan * 55.97;
        } else if (0.268 < tan <= 0.577) {
            return tan * 51.993;
        } else if (0.577 < tan <= 1) {
            return tan * 45;
        } else if (1 < tan <= 1.191) {
            return tan * 41.982;
        } else if (1.191 < tan <= 1.428) {
            return tan * 38.515;
        } else if (1.428 < tan <= 1.732) {
            return tan * 34.682;
        } else if (1.732 < tan <= 2.144) {
            return tan * 31.716;
        }
        }



    let trapezoid_deg = 'rotate(-' + figureTrapezoidDeg(trapezoid_tan).toString() + 'deg)';
    trapezoid.style.transform = trapezoid_deg;


</script>
</body>
</html>